{"ast":null,"code":"import Axios from 'axios';\nimport config from '../shared/config';\nexport const SET_CURRENT_MODAL = 'SET_CURRENT_MODAL';\nexport const SIGN_IN_MODAL = 'SIGN_IN_MODAL';\nexport const SIGN_UP_MODAL = 'SIGN_UP_MODAL';\nexport const ADD_PRODUCT_MODAL = 'ADD_PRODUCT_MODAL';\nexport const DELETE_PRODUCT_MODAL = 'DELETE_PRODUCT_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\nexport const REQUEST_ALL_PRODUCTS = 'REQUEST_ALL_PRODUCTS';\nexport const RECEIVE_ALL_PRODUCTS = 'RECEIVE_ALL_PRODUCTS';\nexport const REQUEST_ADD_PRODUCT = 'REQUEST_ALL_PRODUCTS';\nexport const REQUEST_DELETE_PRODUCT = 'REQUEST_DELETE_PRODUCT';\nexport const RECEIVE_DELETE_PRODUCT = 'RECEIVE_DELETE_PRODUCT';\nexport const ADD_PRODUCT_SUCCESS = 'REQUEST_ALL_PRODUCTS';\nexport const signInModal = () => {\n  return {\n    type: SET_CURRENT_MODAL,\n    currentModal: SIGN_IN_MODAL\n  };\n};\nexport const signUpModal = () => {\n  return {\n    type: SET_CURRENT_MODAL,\n    currentModal: SIGN_UP_MODAL\n  };\n};\nexport const addProductModal = () => {\n  return {\n    type: SET_CURRENT_MODAL,\n    currentModal: ADD_PRODUCT_MODAL\n  };\n};\nexport const deleteProductModal = (id, name) => {\n  return {\n    type: SET_CURRENT_MODAL,\n    currentModal: DELETE_PRODUCT_MODAL,\n    params: {\n      id,\n      name\n    }\n  };\n};\nexport const closeModal = () => {\n  return {\n    type: CLOSE_MODAL\n  };\n};\nexport const requestAllProducts = () => {\n  return {\n    type: REQUEST_ALL_PRODUCTS\n  };\n};\nexport const receiveAllProducts = products => {\n  return {\n    type: RECEIVE_ALL_PRODUCTS,\n    products\n  };\n};\nexport const deleteProductFinished = id => {\n  return {\n    type: RECEIVE_DELETE_PRODUCT,\n    id\n  };\n};\nexport const fetchProducts = () => {\n  return function (dispatch) {\n    const url = \"\".concat(config.api.base_url, \"/products\");\n    Axios.get(url).then(response => {\n      dispatch(receiveAllProducts(response.data));\n    }, error => console.error(error));\n  };\n};\nexport const deleteProduct = id => {\n  return function (dispatch) {\n    const url = \"\".concat(config.api.base_url, \"/products/\").concat(id);\n    Axios.delete(url, {\n      data: {\n        id\n      }\n    }).then(response => {\n      dispatch(deleteProductFinished(id));\n    }, error => console.error(error)).then(() => {\n      dispatch(closeModal());\n    }, error => console.error(error));\n  };\n};","map":{"version":3,"sources":["/Users/dgt/projects/saas-factory/bootcamp/srvls/Lab 2/src/actions/index.js"],"names":["Axios","config","SET_CURRENT_MODAL","SIGN_IN_MODAL","SIGN_UP_MODAL","ADD_PRODUCT_MODAL","DELETE_PRODUCT_MODAL","CLOSE_MODAL","REQUEST_ALL_PRODUCTS","RECEIVE_ALL_PRODUCTS","REQUEST_ADD_PRODUCT","REQUEST_DELETE_PRODUCT","RECEIVE_DELETE_PRODUCT","ADD_PRODUCT_SUCCESS","signInModal","type","currentModal","signUpModal","addProductModal","deleteProductModal","id","name","params","closeModal","requestAllProducts","receiveAllProducts","products","deleteProductFinished","fetchProducts","dispatch","url","api","base_url","get","then","response","data","error","console","deleteProduct","delete"],"mappings":"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","sourcesContent":["import Axios from 'axios';\nimport config from '../shared/config';\n\nexport const SET_CURRENT_MODAL = 'SET_CURRENT_MODAL';\nexport const SIGN_IN_MODAL = 'SIGN_IN_MODAL';\nexport const SIGN_UP_MODAL = 'SIGN_UP_MODAL';\nexport const ADD_PRODUCT_MODAL = 'ADD_PRODUCT_MODAL';\nexport const DELETE_PRODUCT_MODAL = 'DELETE_PRODUCT_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\nexport const REQUEST_ALL_PRODUCTS = 'REQUEST_ALL_PRODUCTS';\nexport const RECEIVE_ALL_PRODUCTS = 'RECEIVE_ALL_PRODUCTS';\nexport const REQUEST_ADD_PRODUCT = 'REQUEST_ALL_PRODUCTS';\nexport const REQUEST_DELETE_PRODUCT = 'REQUEST_DELETE_PRODUCT';\nexport const RECEIVE_DELETE_PRODUCT = 'RECEIVE_DELETE_PRODUCT';\nexport const ADD_PRODUCT_SUCCESS = 'REQUEST_ALL_PRODUCTS';\n\nexport const signInModal = () => {\n    return {\n        type: SET_CURRENT_MODAL,\n        currentModal: SIGN_IN_MODAL,\n    };\n};\n\nexport const signUpModal = () => {\n    return {\n        type: SET_CURRENT_MODAL,\n        currentModal: SIGN_UP_MODAL,\n    };\n};\n\nexport const addProductModal = () => {\n    return {\n        type: SET_CURRENT_MODAL,\n        currentModal: ADD_PRODUCT_MODAL,\n    };\n};\n\nexport const deleteProductModal = (id, name) => {\n    return {\n        type: SET_CURRENT_MODAL,\n        currentModal: DELETE_PRODUCT_MODAL,\n        params: {\n            id,\n            name,\n        }\n    };\n};\n\nexport const closeModal = () => {\n    return {\n        type: CLOSE_MODAL,\n    };\n};\n\nexport const requestAllProducts = () => {\n    return {\n        type: REQUEST_ALL_PRODUCTS\n    }\n}\n\nexport const receiveAllProducts = products => {\n    return {\n        type: RECEIVE_ALL_PRODUCTS,\n        products,\n    }\n}\n\nexport const deleteProductFinished = (id) => {\n    return {\n        type: RECEIVE_DELETE_PRODUCT,\n        id\n    }\n};\n\nexport const fetchProducts = () => {\n    return function(dispatch) {\n        const url = `${config.api.base_url}/products`;\n    \n        Axios.get(url)\n            .then(response => {\n                dispatch(receiveAllProducts(response.data))\n            }, error => console.error(error));\n    };\n}\n\nexport const deleteProduct = (id) => {\n    return function(dispatch) {\n        const url = `${config.api.base_url}/products/${id}`;\n\n        Axios.delete(url, { data: { id } })\n            .then(response => {\n                dispatch(deleteProductFinished(id));\n            }, error => console.error(error))\n            .then(() => {\n                dispatch(closeModal());\n            }, error => console.error(error));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}